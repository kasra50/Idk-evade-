local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

-- ایجاد ScreenGui
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "SimpleGUI"
screenGui.Parent = game.Players.LocalPlayer:WaitForChild("PlayerGui")
screenGui.ResetOnSpawn = false

-- ایجاد دکمه اصلی با تصویر رندوم
local button = Instance.new("ImageButton")
button.Size = UDim2.new(0, 100, 0, 100)
button.Position = UDim2.new(0.5, -50, 0.5, -50)
button.BackgroundTransparency = 1
button.Image = "rbxassetid://1234567890" -- جای این آیدی، آیدی تصویر رندوم دلخواه رو بذار
button.Parent = screenGui

-- ایجاد فریم GUI
local guiFrame = Instance.new("Frame")
guiFrame.Size = UDim2.new(0, 200, 0, 300)
guiFrame.Position = UDim2.new(0.5, -100, 0.5, -150)
guiFrame.BackgroundColor3 = Color3.fromRGB(30, 30, 30)
guiFrame.BackgroundTransparency = 0.2
guiFrame.Visible = false
guiFrame.Parent = screenGui

-- اضافه کردن گوشه‌های گرد
local corner = Instance.new("UICorner")
corner.CornerRadius = UDim.new(0, 10)
corner.Parent = guiFrame

-- متغیر برای وضعیت GUI
local isOpen = false

-- تابع برای باز و بسته کردن GUI
local function toggleGUI()
    isOpen = not isOpen
    if isOpen then
        guiFrame.Visible = true
        TweenService:Create(guiFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            BackgroundTransparency = 0,
            Size = UDim2.new(0, 200, 0, 300)
        }):Play()
    else
        TweenService:Create(guiFrame, TweenInfo.new(0.3, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
            BackgroundTransparency = 0.2,
            Size = UDim2.new(0, 200, 0, 0)
        }):Play()
        wait(0.3)
        guiFrame.Visible = false
    end
end

-- اتصال کلیک ماوس
button.MouseButton1Click:Connect(toggleGUI)

-- پشتیبانی از لمس در موبایل
UserInputService.TouchTapInWorld:Connect(function(touch, processed)
    if not processed then
        local buttonPos = button.AbsolutePosition
        local buttonSize = button.AbsoluteSize
        if touch.X >= buttonPos.X and touch.X <= buttonPos.X + buttonSize.X and
           touch.Y >= buttonPos.Y and touch.Y <= buttonPos.Y + buttonSize.Y then
            toggleGUI()
        end
    end
end)
