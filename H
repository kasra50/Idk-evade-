local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")

-- ایجاد ScreenGui
local Orion = Instance.new("ScreenGui")
Orion.Name = "SimpleImageGUI"
Orion.Parent = game:GetService("CoreGui")

-- ایجاد Frame اصلی
local MainFrame = Instance.new("Frame")
MainFrame.Size = UDim2.new(0, 150, 0, 150)
MainFrame.Position = UDim2.new(0.5, -75, 0.5, -75)
MainFrame.BackgroundTransparency = 1
MainFrame.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
MainFrame.Parent = Orion

-- اضافه کردن UICorner برای گوشه‌های گرد
local Corner = Instance.new("UICorner")
Corner.CornerRadius = UDim.new(0, 10)
Corner.Parent = MainFrame

-- ایجاد ImageButton با تصویر رندوم
local ImageButton = Instance.new("ImageButton")
ImageButton.Size = UDim2.new(0.9, 0, 0.9, 0)
ImageButton.Position = UDim2.new(0.05, 0, 0.05, 0)
ImageButton.Image = "rbxassetid://2593560177" -- تصویر رندوم از Roblox Library
ImageButton.BackgroundTransparency = 1
ImageButton.ImageTransparency = 1
ImageButton.Parent = MainFrame

-- متغیر برای وضعیت GUI
local isOpen = false

-- تابع برای باز و بسته کردن GUI
local function toggleGUI()
    isOpen = not isOpen
    if isOpen then
        TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {
            BackgroundTransparency = 0,
            Size = UDim2.new(0, 150, 0, 150)
        }):Play()
        TweenService:Create(ImageButton, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {
            ImageTransparency = 0
        }):Play()
    else
        TweenService:Create(MainFrame, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {
            BackgroundTransparency = 1,
            Size = UDim2.new(0, 0, 0, 0)
        }):Play()
        TweenService:Create(ImageButton, TweenInfo.new(0.5, Enum.EasingStyle.Quint), {
            ImageTransparency = 1
        }):Play()
    end
end

-- اتصال کلیک ماوس
ImageButton.MouseButton1Click:Connect(toggleGUI)

-- پشتیبانی از لمس موبایل
UserInputService.TouchTap:Connect(function(touch)
    local objects = game:GetService("GuiService"):GetGuiObjectsAtPosition(touch.X, touch.Y)
    for _, obj in pairs(objects) do
        if obj:IsDescendantOf(ImageButton) then
            toggleGUI()
            break
        end
    end
end)

-- تابع برای اطمینان از نابودی GUI
function OrionLib:Destroy()
    Orion:Destroy()
end
